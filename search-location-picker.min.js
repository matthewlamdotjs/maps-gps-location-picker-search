function SearchLocationPicker(a,t){this.gmap_vars_lp=null,this.gmap_vars_mapSearchInput=null,this.gmap_vars_currentMarker=null,this.gmap_vars_searchBox=null,this.gmap_vars_locationLatitude=null,this.gmap_vars_locationLongitude=null,this.gmap_vars_mapDivId=a,this.gmap_vars_searchDivId=t,this.gmap_vars_customOnclickCallback=null;const e=this;function o(a){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){n(t),a()}):(n({coords:{latitude:21.296939,longitude:-157.8193005}}),a())}function n(a){e.gmap_vars_locationLatitude=a.coords.latitude,e.gmap_vars_locationLongitude=a.coords.longitude,e.gmap_vars_customOnclickCallback&&e.gmap_vars_customOnclickCallback()}function r(){e.gmap_vars_lp=new google.maps.Map(document.getElementById(e.gmap_vars_mapDivId),{center:{lat:parseFloat(e.gmap_vars_locationLatitude),lng:parseFloat(e.gmap_vars_locationLongitude)},zoom:13,mapTypeId:"roadmap"}),e.gmap_vars_mapSearchInput=document.getElementById(e.gmap_vars_searchDivId),e.gmap_vars_searchBox=new google.maps.places.SearchBox(e.gmap_vars_mapSearchInput),e.gmap_vars_lp.addListener("bounds_changed",function(){e.gmap_vars_searchBox.setBounds(e.gmap_vars_lp.getBounds())}),e.gmap_vars_currentMarker=new google.maps.Marker({position:new google.maps.LatLng(e.getLat(),e.getLng()),map:e.gmap_vars_lp});let a=[];e.gmap_vars_searchBox.addListener("places_changed",function(){let t=e.gmap_vars_searchBox.getPlaces();if(t&&0==t.length)return;a.forEach(function(a){a.setMap(null)}),a=[],e.gmap_vars_currentMarker&&e.gmap_vars_currentMarker.setMap(null),1==t.length&&n({coords:{latitude:t[0].geometry.location.lat(),longitude:t[0].geometry.location.lng()}});let o=new google.maps.LatLngBounds;t.forEach(function(t){if(!t.geometry)return void console.log("Returned place contains no geometry");let r={url:t.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)};a.push(new google.maps.Marker({map:e.gmap_vars_lp,icon:r,title:t.name,position:t.geometry.location})),a.forEach(function(a){a.addListener("click",function(){e.gmap_vars_currentMarker&&e.gmap_vars_currentMarker.setMap(null),e.gmap_vars_lp.setZoom(20),e.gmap_vars_lp.setCenter(a.getPosition()),n({coords:{latitude:a.getPosition().lat(),longitude:a.getPosition().lng()}})})}),t.geometry.viewport?o.union(t.geometry.viewport):o.extend(t.geometry.location)}),e.gmap_vars_lp.fitBounds(o)}),google.maps.event.addListener(e.gmap_vars_lp,"click",l)}function l(a){e.gmap_vars_currentMarker&&e.gmap_vars_currentMarker.setMap(null),e.gmap_vars_currentMarker=new google.maps.Marker({position:a.latLng,map:e.gmap_vars_lp}),n({coords:{latitude:a.latLng.lat(),longitude:a.latLng.lng()}})}e.renderMap=function(){o(r)},e.setCustomOnclickCallback=function(a){"function"==typeof a?e.gmap_vars_customOnclickCallback=a:console.error("setCustomOnclickCallback argument 1 expected type function")},e.getLat=function(){return e.gmap_vars_locationLatitude},e.getLng=function(){return e.gmap_vars_locationLongitude},e.resetLocation=function(){e.gmap_vars_locationLatitude=null,e.gmap_vars_locationLongitude=null,o(function(){})}}